<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <div class="" id="app">
            <p>
                {{count}}
            </p>
            <p>
                <button type="button" name="button1" @click="increment">+</button>
                <button type="button" name="button2" @click="decrement">-</button>
            </p>
        </div>

        <script src="./node_modules/vue/dist/vue.js" charset="utf-8"></script>
        <script src="./node_modules/vuex/dist/vuex.js" charset="utf-8"></script>
        <script type="text/javascript">

            // var store = new Vuex.Store({
            //     state: {
            //         count: 0
            //     },
            //     mutations: {
            //         increment (state) {
            //             state.count++
            //         }
            //     }
            // })
            //
            // store.commit('increment') // 提交 mutations 的方式
            //
            // console.log('store.state.count == ', store.state.count)

            

            var store = new Vuex.Store({
                state: {
                    count: 0
                },
                mutations: {
                    increment: function(state){
                        state.count++
                    },
                    decrement: function(state){
                        state.count--
                    }
                }
            })

            var app = new Vue({
                el: '#app',
                computed: {
                    count: function(){
                        return store.state.count
                    }
                },
                methods: {
                    increment: function(){
                        store.commit('increment')
                    },
                    decrement: function(){
                        store.commit('decrement')
                    }
                }
            })

        </script>
    </body>
</html>
